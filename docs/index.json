[{"content":"\r\r今天本地的疫情终于没有增加，又闲情来仔细关注一下其他地区的疫情形势。看看了官方通报的数据，发现上海的数据非常有意思。无症状感染者比例已经超过95%，这么有特征的数据，势必要仔细看看。\r# 数据获取\n0.1 数据来源\r要获取准确的数据，当然是上官方网站。打开上海市卫健委的官网(https://markdown.com.cn/basic-syntax/)，疫情数据公告都在“新闻发布”栏目中，再仔细一看，疫情信息的标题中就包含了所有新增、确诊数据。真是太方便了。新闻页面也是连续的以_[num]为页码的编号，这种页爬起来不要太省事。\n\r0.2 R包\r首先加载需要用到的包，主要使用rvest包获取静态网页信息，谷歌浏览器selectorgadget获取需要信息的节点，tidyverse整理数据，lubridate包处理日期变量\nlibrary(rvest)\rlibrary(tidyverse)\rlibrary(lubridate)\r\r0.3 主页信息获取\r使用selectorgadget找到，需要的变量“时间”和“标题”，对应的node分别是.time和.list-data a，只用使用rvest抓取后，转为文本存储在列表中。\n## 设置url\rurl \u0026lt;- \u0026quot;https://wsjkw.sh.gov.cn/xwfb/index.html\u0026quot;\r## 获取首页信息\rcontent \u0026lt;- read_html(url)\rreportdate \u0026lt;- content %\u0026gt;%\rhtml_nodes(\u0026quot;.time\u0026quot;) %\u0026gt;%\rhtml_text() %\u0026gt;%\ras.Date.character()\rtitle \u0026lt;- content %\u0026gt;%\rhtml_nodes(\u0026quot;.list-date a\u0026quot;) %\u0026gt;%\rhtml_text()\rbasedata \u0026lt;- tibble(reportdate = reportdate, title = title)\r\r0.4 获取所有数据\r上海的疫情变化主要从3月开始，但为了查看之前的变化，是否输入病例压力增大导致本次疫情，因此爬取了2到200页到2020年的数据。使用for循环，rbind组合成基础数据。\n## 使用循环爬取2到200也网页信息\rfor (i in 2:200) {\rurl = paste0(\u0026quot;https://wsjkw.sh.gov.cn/xwfb/index_\u0026quot;, i, \u0026quot;.html\u0026quot;)\rcontent \u0026lt;- read_html(url)\rreportdate \u0026lt;- content %\u0026gt;%\rhtml_nodes(\u0026quot;.time\u0026quot;) %\u0026gt;%\rhtml_text() %\u0026gt;%\ras.Date.character()\rtitle \u0026lt;- content %\u0026gt;%\rhtml_nodes(\u0026quot;.list-date a\u0026quot;) %\u0026gt;%\rhtml_text()\rbasedata \u0026lt;- basedata %\u0026gt;%\rrbind(tibble(reportdate = reportdate, title = title))\r}\r## 写出数据\rwrite.csv(basedata, \u0026quot;data/basedata.csv\u0026quot;)\r\r0.5 数据清洗\r这一步比较麻烦的是，对标题中截止统计日期的整理。使用str_extract_all命令后提取的日期，变成了列表。再合并为向量形势的日期格式数据时出了点麻烦。最后使用了笨办法for循环unlist后再paste0合并。其实直接用标题前的日期-1没什么大的误差，主要是在跟自己较劲搞得这么麻烦。\n\r1 好了，开始分析吧\r1.1 先画个简单的图看看大趋势\r以报告病例类型为颜色看，从20年1月到21年12月期间，上海的感染人数几乎在处于一个长期稳定的状态，从2022年3月开始呈直升飞机式的增长。奇怪的是中间咋有个空白区，没有数据。查看原始网页，发现网站从2021年11月6日-2022年1月1日没有更新数据。这是一个奇怪的现象。不过没关系，这不影响我们后面的分析。\n\r1.2 输入感染者的趋势\r对上海这波疫情有个合理的猜测是，1月初上海接纳大量某地的航班的，导致上海市输入疫情压力陡增，再加上Omicron变异株超强传播能力，双重压力下导致这个模范城市失守。好吧，我们来看看是否能验证输入压力陡增这个猜测。从图上看好像跟上图颇像，鉴于确诊和无症状都属与感染这，下一步我们把本地和输入的感染者的总数做个对比看看。\n\r1.3 感染者总数\r先用二者做个散点图看看,如图，完全看不出啥关系啊。。。。输入感染者较多的时候，反而本地感染处于低水平。这个图像，线性回归暂时也不考虑。我们还是从感染者数量和时间的关系看看。\n画出来如下，大致能看从1月到3月二者都在上升，但到了3月后，二者分道扬镳了。我们把时间尺度拉大到三月份看看。\n\r1.4 2022年1到三月\r好吧，放大后可以看到从2月10日起到2月21日之间，二者几乎是呈线性相关，到2月22日，输入感染人数开始上升，此时上海本地感染数量仍然与差别不大，处于平稳状态，输入感染者数量是大于本地感染。一直到3月6日左右，出现了反转的情况，本地感染者数量快速上升，迅速大幅度超过输入感染者。\n\r1.5 简单总结\r从上面的简单分析可得知，上海市境外输入感染者数量，从去年2月20日左右开始上升，增加的幅度从平均12例左右，到2月24左右达到85例左右。确实有一个快速增加的阶段。过了大概一周的时间上海本地感染者开始快速上升，我们不得不区猜测这二者之间可能存在某种联系。最后一张图添加了平滑曲线，做一个大致的预测。从图可见上海这一波疫情可能还没有达到所谓的“拐点”。但随着检测人数的增加，防控措施的进一步加码和落实，相信这一波疫情会逐渐得到控制。\n\r\r","permalink":"/post/covidsh/","summary":"今天本地的疫情终于没有增加，又闲情来仔细关注一下其他地区的疫情形势。看看了官方通报的数据，发现上海的数据非常有意思。无症状感染者比例已经超过95%，这么有特征的数据，势必要仔细看看。\r# 数据获取\n0.1 数据来源\r要获取准确的数据，当然是上官方网站。打开上海市卫健委的官网(https://markdown.com.cn/basic-syntax/)，疫情数据公告都在“新闻发布”栏目中，再仔细一看，疫情信息的标题中就包含了所有新增、确诊数据。真是太方便了。新闻页面也是连续的以_[num]为页码的编号，这种页爬起来不要太省事。\n\r0.2 R包\r首先加载需要用到的包，主要使用rvest包获取静态网页信息，谷歌浏览器selectorgadget获取需要信息的节点，tidyverse整理数据，lubridate包处理日期变量\nlibrary(rvest)\rlibrary(tidyverse)\rlibrary(lubridate)\r\r0.3 主页信息获取\r使用selectorgadget找到，需要的变量“时间”和“标题”，对应的node分别是.time和.list-data a，只用使用rvest抓取后，转为文本存储在列表中。\n## 设置url\rurl \u0026lt;- \u0026quot;https://wsjkw.sh.gov.cn/xwfb/index.html\u0026quot;\r## 获取首页信息\rcontent \u0026lt;- read_html(url)\rreportdate \u0026lt;- content %\u0026gt;%\rhtml_nodes(\u0026quot;.time\u0026quot;) %\u0026gt;%\rhtml_text() %\u0026gt;%\ras.Date.character()\rtitle \u0026lt;- content %\u0026gt;%\rhtml_nodes(\u0026quot;.list-date a\u0026quot;) %\u0026gt;%\rhtml_text()\rbasedata \u0026lt;- tibble(reportdate = reportdate, title = title)\r\r0.4 获取所有数据\r上海的疫情变化主要从3月开始，但为了查看之前的变化，是否输入病例压力增大导致本次疫情，因此爬取了2到200页到2020年的数据。使用for循环，rbind组合成基础数据。\n## 使用循环爬取2到200也网页信息\rfor (i in 2:200) {\rurl = paste0(\u0026quot;https://wsjkw.sh.gov.cn/xwfb/index_\u0026quot;, i, \u0026quot;.","title":"R爬上海疫情数据简单可视化分析"},{"content":"\r\r对于一个公卫狗来说，很多工作都在分析数据、撰写报告总结的内容。这些文档有周报、月报、季报、年报。在使用R之前，经常会对同样架构的不同时间的的数据进行重复的分析和撰写。Rmarkdwon提供了非常便利的可重复复文档，简单来说就是根据跟新的数据库一键生成同样格式的文档。文档的类型可以是PDF和WORD。非常的便利。\n1 Rmarkdown基础\r1.1 markdown\rMarkdown是一种轻量级标记语言，排版语法简洁，让人们更多地关注内容本身而非排版。它使用易读易写的纯文本格式编写文档，可与HTML混编，可导出HTML、PDF以及本身的.md格式的文件。因简洁、高效、易读、易写，Markdown被大量使用，如Github、Wikipedia、简书等。\nMarkdown已经是一种轻量化的语言，他的不足在于当需要转换为PDF或者WORD格式时有点力不从心了。针对这问题，目前供职与Rstudio的谢益辉大神在Markdown的基础上开发了rmarkdwon包。Rmarkdown的优点有：\n\r具备markdown简单的文本标记语言；\n\r相较于markdown有更丰富的文档排版能力；\n\r可以在生成文档时直接运行插入的代码块，并将运行结果输出在最终文档中。\n\r\r\r1.2 基本语法\rRmarkdown的基本语法与markdwon相同，几乎所有markdown能用的语法都可以在其中使用。\n常用的markdown语法见表1.1，更详细的语法请参考Markdown官方教程\n\r表1.1: Rmarkdown的优点\r\r输入\r结果\r\r\r\r普通文本\r普通文本\r\r*斜体文本*\r斜体文本\r\r**加粗文本**\r加粗文本\r\r***斜体加粗文本***\r斜体加粗文本\r\r~~删除线文本~~\r删除线文本\r\r上标^文本^\r上标文本\r\r`代码文本`\r代码文本\r\r# 一级标题\r\r\r\r\r\r1.3 建立Rmarkdwon文件\r在RStudio选择文件-新建-Rmarkdown就可以建立一个最简单的rmarkdown的模板。（图 1.1）\n\r图1.1: 新建rmarkdown文件\r\r新建文件后会弹出新的窗口，如图1.2所示。窗口中可以设置标题、作者和输出文件类型。在左边栏选择”From Template”会有更多的模板更选择。你也可以安装相应的R包扩展更多的模板。\n\r图1.2: 新建文件窗口\r\r\r\r2 WORD格式文件输出\r\r3 PDF格式文件输出\r\r","permalink":"/post/2022-03-03-r-markdonw-1/","summary":"对于一个公卫狗来说，很多工作都在分析数据、撰写报告总结的内容。这些文档有周报、月报、季报、年报。在使用R之前，经常会对同样架构的不同时间的的数据进行重复的分析和撰写。Rmarkdwon提供了非常便利的可重复复文档，简单来说就是根据跟新的数据库一键生成同样格式的文档。文档的类型可以是PDF和WORD。非常的便利。\n1 Rmarkdown基础\r1.1 markdown\rMarkdown是一种轻量级标记语言，排版语法简洁，让人们更多地关注内容本身而非排版。它使用易读易写的纯文本格式编写文档，可与HTML混编，可导出HTML、PDF以及本身的.md格式的文件。因简洁、高效、易读、易写，Markdown被大量使用，如Github、Wikipedia、简书等。\nMarkdown已经是一种轻量化的语言，他的不足在于当需要转换为PDF或者WORD格式时有点力不从心了。针对这问题，目前供职与Rstudio的谢益辉大神在Markdown的基础上开发了rmarkdwon包。Rmarkdown的优点有：\n\r具备markdown简单的文本标记语言；\n\r相较于markdown有更丰富的文档排版能力；\n\r可以在生成文档时直接运行插入的代码块，并将运行结果输出在最终文档中。\n\r\r\r1.2 基本语法\rRmarkdown的基本语法与markdwon相同，几乎所有markdown能用的语法都可以在其中使用。\n常用的markdown语法见表1.1，更详细的语法请参考Markdown官方教程\n\r表1.1: Rmarkdown的优点\r\r输入\r结果\r\r\r\r普通文本\r普通文本\r\r*斜体文本*\r斜体文本\r\r**加粗文本**\r加粗文本\r\r***斜体加粗文本***\r斜体加粗文本\r\r~~删除线文本~~\r删除线文本\r\r上标^文本^\r上标文本\r\r`代码文本`\r代码文本\r\r# 一级标题\r\r\r\r\r\r1.3 建立Rmarkdwon文件\r在RStudio选择文件-新建-Rmarkdown就可以建立一个最简单的rmarkdown的模板。（图 1.1）\n\r图1.1: 新建rmarkdown文件\r\r新建文件后会弹出新的窗口，如图1.2所示。窗口中可以设置标题、作者和输出文件类型。在左边栏选择”From Template”会有更多的模板更选择。你也可以安装相应的R包扩展更多的模板。\n\r图1.","title":"基于Rmrakdwon的可重复文档"},{"content":"\r\r\r这是自己20年前因暗黑破坏神和英雄无敌3游戏有感而创作的。。放这里存档！\n\r1 启程\r透过破烂的窗户，骑士萨德列看到的是象被泼上了黯淡的黑血的天空，墨一样的血慢慢的从天的尽头一直延伸到头顶。那样的死寂，如此的凄凉！\n也不知是从什么时候开始世界变成了现在这个样子，萨德列只记得从有记忆开始就是这样，10年过去了，还是这样。想起父亲临终前对自己说的话“萨德列，我的儿子，记着我的话吧。到远方去，遥远的地方，在那里你的使命在召唤你。你是我的儿子，骑士之子，你的命运就此已经注定。”从此，萨德列就开始了流浪，从12岁开始自己就背着父亲的剑和盔甲开始了毫无目的的流浪，仿佛是没有尽头的流浪。10年的流浪…… 可他还是不知道父亲说的远方到底是哪里。他只知道从一个地方飘荡到另一个地方。\n“远方，使命！”\r一阵敲门声打断了萨德列的回忆。\r“进来！”\n旅馆的侍女打开门，端上一盘丰盛的晚餐。“先生，你的晚餐！”说完把盘子放在桌上，然后退了出去。萨德列坐下来，开始慢慢享用他的食物。一段辛苦的旅行中最美丽的事情，莫过与在旅馆舒服的洗个澡，再来一份精美的晚餐！最好还能有美酒！可是在这种小旅馆，也只能用这些下三滥厨师弄的东西来将就了。\n夜深了，窗外的风呼呼的叫着，仿佛是垂死的精灵的呼吸。萨德列躺在床上，望着天花板，心里又开始了对父亲的思念。父亲总是那样富有智慧，高大的身影总是在心头一次又一次的浮现。他慈祥的脸上露出的笑容可以让自己忘掉所以的不幸与悲伤！萨德列起身拿出父亲的剑。锋利的剑身，被磨得光滑的剑柄。萨德列轻轻的抚摩着。“父亲的味道在散发，是你啊。父亲……”\n…….\n高大的树木，数不清的树木。漫天的雪花，鹅毛般的飘落。堆积在树上，林间的空地上！雪地上，一串脚印一直延伸到林子的深出。在脚印的尽头是一个靠在一棵参天大树下的人。凛冽的寒风像刀子般的刮着。革拉特已经逃亡了一星期了。整个星期都在这见鬼的森林里，怎么都走不出去，但这样也好。只有大雪才能让那些追踪的家伙也找不到他。革拉特坐在树下，望着漫天的飞雪。炯烁的眼睛凝视着雪花被风吹着打转，他伸出手接住雪花，看它们慢慢的在手中融化。他的嘴角露出一丝笑容，他站起身来，肩上的雪花簌簌的落下来，抬起头望了望天空，笑了笑，又往林子深处前进。他高大的身影慢慢的消失在树木的影子里。\n第二天早晨，萨德列起床后在旅馆匆匆吃了点早餐就出去了。这个叫密拉达的小镇属于艾拉西亚王国，是一个龙蛇混杂的地方，各式各样的人都有。也有的不是人，精灵呀，矮人呀，吸血鬼……这片大陆的主要种族这里都有。萨德列来到一家酒馆，酒馆是个好地方，无论你想打听什么消息，或者你想了解一下这个地方的情况，做好的办法就是到这里的酒馆里去看看。这个酒馆的老板是个精灵，罕见的一个年老的精灵。绿色的长发随意地搭到在肩上，最引人注目的还是他那尖尖的耳朵了，让一看就知道是精灵。一身打扮象极了市侩的商贩。萨德列很奇怪，怎么精灵也学着做生意了。萨德列来到柜台前，要了杯葡萄酒，然后自行找了张凳子坐下来。他一边缓慢地品味着杯中的葡萄酒，一边装着随意地观察周围的食客。酒馆不大，大概有20几个人在里面。其中有个红胡子的矮人引起了萨德列的注意，还有就是一个一直呆在角落里一个人喝酒的人。看他的打扮象是一个法师或者炼金士。\n突然,一群人恶恨恨地从门口冲进来,最前面的是一个身材高大的家伙,满脸的胡子乱刺刺的毡着,好象是被烧焦了。一群人用目光在酒馆的食客中搜索。最后停在了一个法师打扮的人身上。看上去像带头人的家伙,脸上露出憎恨的表情。他挥了挥手,手下都慢慢的拔出了刀,开始向法师打扮的人走近.酒馆里一些胆小的,怕惹事的都开始从门口跑了出去.那法师打扮的人却依然慢慢的吃着自己的食物,好象根本就不知道那群人的存在。待几个恶棍走到足够近的时候，挥舞着手中各式各样的武器向他扑去。萨德列坐在那里静静的看着这一切的发生.只见那法师打扮的人,手一扬一团火球打在冲在最前面的一个。把他打得直向后飞,撞在后面跟上来的几个身上.魔法的火焰在身上燃烧.几个撞到一起的人身上都着了火,在地上滚来滚去的大叫。但这并没有阻止后面的几个继续向前冲.法师又连续打出几个火球,又是几个人倒下去。可已经有几个到了他跟前。几把明晃晃的刀向他砍去。萨德列已经把自己的剑拿了出来,随时准备出鞘。只见那法师把酒杯里的酒泼出来，酒瞬间在他面前化成了一层冰护盾,几把刀全砍在护盾上。刀的主人也被反弹力震得后退,有一个的刀都脱了手。法师乘机又打出几个火球，又是几个人倒下。萨德列也挺惊讶的，看来这法师还不能小觑，居然还会这种等级的护盾魔法。进来的一群人已经剩下大概不到10个了。萨德列心想不用自己出手，他自己也可以应付了。突然,一只箭插在法师胸口.萨德列心里一惊,朝箭射来的方向望去，只见那个满脸胡子的大汉，手里拿着一把弓箭,冷笑着。大汉继续搭箭，萨德列却飞快拔出剑，象老鹰一般朝大汉冲去。全场人只见一道寒光闪过，大汉呆在那里。萨德列的剑已经在鞘里了。全场的人都楞住了！大汉的弓从中间断开，他眼中充满了恐惧与惊讶。全场的人都清晰的看见一道血痕从大汉眉心裂开.鲜血一下子喷了出来，然后慢慢的倒下。其他恶棍看着眼前的一切，还每反应过来，都还呆站着。萨德列飞快的向法师方向冲过去，随着几道剑光，又是几个恶棍倒下了。剩下的几个丢掉自己手中武器飞一样的跑了。\n萨德列快步向法师走过去。法师手捂住胸口，脸上毫无血色。萨德列正要拿绷带给他止血时发现他已经开始使用治疗魔法了。过了大概一分种的样子。法师的脸已经渐渐恢复血色，显得红润了。萨德列刚想和他说话，那法师却开了个传送门走了。只留下他自己一个人站在乱七八糟的旅馆里。他苦笑了一下，自己费半天劲救了人却给自己找了个麻烦，结果自己却连一句感谢的话都没听到。他回到房间拿起自己的行李准备走了。他知道过不了多久就会有一大群人来找他的麻烦了。\n萨德列走出小镇没多久，却发现自己又不知道该往哪儿走了。他来到一个叉路口，捡起一小截树枝,然后蹲下来把树枝立起来,树枝倒下了。他就朝着树枝倒下的方向前进。他心里知道，路就跟他的未来一样，自己不知道路的尽头是什么地方，就象不知道前方等待他的又是什么命运。但路是要走的，人也是要活下去的。\n\r2 狼与人\r革拉特从树林里出来时已经几乎成了一个雪人。他整理了一下衣服，上面的雪簌簌的掉了下来。他用锐利的眼神观察了一下四周，发现没什么异样的。心里才松了口气，总算把那些家伙摆脱了。\n走出森林是一片旷野，放眼望去只能看见一些稀疏的小树林。这可不是一个逃亡的好地方，得赶快走出这里。革拉特知道过了这里就是一座高山了，在那里就好隐蔽了。他打起精神，继续向前走去。\n革拉特正走在路上，突然一股危险的信号在脑海闪过，他急忙闪到一快稍微大点的岩石后面。他从岩石后面探出头看了看。远方一群恶狼，正向他的方向靠拢。“该死的，这种时候怎么遇到这群畜生。”\n由于在森林的游荡了一个多星期，革拉特已经没多少体力了。\n“怎么办怎么办？”革拉特脑子里闪过无数个念头，都被自己一一否决了。野外的狼群是最难对付的。它们大多都是饿了几天的，现在好不容易找到一个猎物怎么会轻易放弃。说不定它们已经跟踪他好久了，直到现在才开始动手的。\n革拉特躲在岩石后面，发现自己居然能听到自己的心跳声。自己经历了无数次危险从来没有象现在这样感到无助，绝望。\n“难道今天我就会死在这里？死在这些畜生嘴上？老天怎么会这样对我？我还有很多事情要做！”\n一股风吹过来，风中带着野兽特有的味道，也是死亡的气味。革拉特已经能听到狼的呼吸声和细小的脚步声。他闭上眼睛，准备等待死亡的来临。当他闭上眼睛后，脑子一下子清醒很多了。耳朵听到的不光是狼的呼吸，还有风的声音，有雪花落下的声音，有自己还在跳动的心。脑中记起了自己的目标，自己的希望还有自己最想念的人的面庞。革拉特一下子醒了过来。\n他睁开眼睛，拔出自己的刀，跳出岩石。面对着狼群，他缓缓地举刀，指向狼群。他全身的血都沸腾了。杀气从他的刀上蹦射出来。\n狼群中最大的一只全身金色的狼，高高的站在狼群后面的一快岩石上。它向革拉特望了一眼，然后头昂向天空发出一声长啸。啸声在狼群中激起一遍回应，狼群也跟着嚎叫起来。接着慢慢的向革拉特靠拢。\n革拉特把刀横在胸前，然后举向天空，双腿往地上一蹬，嘴中发出一声咆哮。声音在旷野里传播开去。狼群也被怔得停住了前移的脚步。但是只是稍微迟疑了一下，又开始一边发出低沉的声音一边移动。革拉特缓缓闭上眼，一边用身体感受狼群的一举一动一边聚集力量。\n狼群移动到到离革拉特2，3米多远的地方就停住了前进的脚步。都漏出白森森的牙齿，耸立着颈部的毛，不停地发出低沉的呜呜。。。”\n革拉特却满脸镇定的神情，而且还透露出肃穆的感觉。\n狼和人都等待着最后的时刻到来。。。。\n萨德列顺着树枝的方向走着，一路上脑子里总想着那个奇怪的法师的事情，不知道怎么的自己对他特别的好奇。这么多年的经验告诉他在这个世界里好奇心有时会害死一个人。可他还是抑制不住。走着走着，他停了下来，因为直觉告诉他附近就有那个法师的信息。他走进路旁的一的小树林，在林子中间一副令他万分吃惊的景象出现在他面前。\r旷野….\r狼群….\r人……一个坚定的人。\n为首的那头金狼在岩石上转了几圈，然后停了下来。它用异样的眼神盯了盯前面的人。接着，又昂起头发出一声嚎叫。\n战斗的号角已经吹响，战鼓也擂响。革拉特从听到狼王的嚎叫时刻，一直紧闭的双眼猛地撑开。手中的刀也开始抖动，发出“呜呜```````````”的鸣叫。\n站在革拉特最前面的几头狼早就耐不住了，箭一般的向革拉特扑过来。\n刀象天空的明月一样划出一道美丽的白光。\n红色的血从半空中洒落下来。点点斑斑落在革拉特的脸上，身上。\n革拉特吐出嘴里的血，象一头猛虎一样扑进狼群。从狼身上喷射出的血雨点般的打在他身上。热血的腥味刺激着他的神经，革拉特挥舞着手中的刀，自己已经分不清身上的血哪些是自己的哪些是狼的``````````\n在一望无尽的旷野上，一群狼和一个人构建了一幅罕见的奇观。狼的悲嚎，人的咆哮从旷野中央象涟漪一样散开。\n　革拉特已经开始气喘吁吁了，拼杀了一个多小时本来已经不多的体力已经快要透支了。而狼群却显得越来越多。革拉特周围，被杀死的狼都只剩下些骨头。这些狼为了自己把死了的或受伤的狼全吃了。革拉特身上也是伤痕累累。周围的狼不停地向他进攻。一次又一次地。前面的倒下了，后面的把尸体拖出去，又继续扑上来。\n…呼…呼..不行了，我不行了。这些狼怎么都杀不完。我要放弃了。奇迹，奇迹我现在最需要的就是奇迹了。”\n“唰唰！”又是两刀，两头扑上来的狼被砍翻在地。突然背后钻心般的痛，革拉特急忙转过身，唰```一刀挥过去。却砍了个空，他仔细一看，原来是那头狼王。自己周围的其他狼都停止了向他进攻。只在他周围围出一个圈。狼王在他面前来回的走动。两只眼睛死死地盯着他。\n“决斗吗？？”革拉特心想。\n周围的狼群不断地发出嚎叫，仿佛是在为狼王喝彩，加油。\n革拉特明白了，狼王是要建立自己在狼群中的威信，要找他这个垂死的人来决斗。\n革拉特把心一横。双手把刀握在手里，刀尖遥指狼王。他知道自己已经没有多少体力了，要和这只开始一直在旁观战的狡猾的狼王决斗，硬拼下去只有死。心里不断地想对策。\n狼王在革拉特面前2，3米的地方来回的徘徊。两只眼睛却一刻也没离开过革拉特的一举一动。它在寻找空隙一直没有进攻。\n一狼一人，在旷野中相互对峙着。周围狼群的嚎叫此起彼伏。突然革拉特向狼王冲了过去。就要冲到时，突然脚下一滑跌到在地上。狼王象绷紧的弹簧一样飞一般地射向革拉特。嘴准确地咬向革拉特的咽喉。\n这个时候，狼群也全安静了下来，周围突然一下变得异常的安静。\n血，从狼王的嘴边流了出来。。。。\n周围的狼群发出胜利的嚎叫。\n狼王一动也不动的趴在革拉特的身上，它的眼中充满了诧异的神情。\n一狼一人都趴在地上半天一动不动，狼群也停止了嚎叫。一只灰狼从狼群中走出来。慢慢走近革拉特。突然，狼王从地上飞了出来。革拉特用刀艰难地站了起来。狼群一下子沸腾了。那只灰狼走到狼王的身边，嗅了嗅。然后回过身盯着革拉特。它走到革拉特身边，围着他转了几圈。然后向狼群发出一声长啸。本来围着革拉特的狼群开始散开。然后在灰狼的带领下向远方跑去。\n狼群散尽。革拉特一下子倒在地上。看着身边狼王的尸体，回想起刚才的时刻，真是九死一生。他在狼王的牙齿快刺破自己颈部血管的一瞬间，把自己的左手塞进狼王的口中的同时右手把刀捅进狼王的心脏。现在手上几个血孔还在不住的冒血。他自己感到奇怪的是，现在自己居然没感到害怕，却有一种兴奋的感觉。\n革拉特包扎了一下伤口，然后就躺在一快岩石后面睡了。\n\r","permalink":"/post/2022-01-14-/","summary":"\r\r\r这是自己20年前因暗黑破坏神和英雄无敌3游戏有感而创作的。。放这里存档！\n\r1 启程\r透过破烂的窗户，骑士萨德列看到的是象被泼上了黯淡的黑血的天空，墨一样的血慢慢的从天的尽头一直延伸到头顶。那样的死寂，如此的凄凉！\n也不知是从什么时候开始世界变成了现在这个样子，萨德列只记得从有记忆开始就是这样，10年过去了，还是这样。想起父亲临终前对自己说的话“萨德列，我的儿子，记着我的话吧。到远方去，遥远的地方，在那里你的使命在召唤你。你是我的儿子，骑士之子，你的命运就此已经注定。”从此，萨德列就开始了流浪，从12岁开始自己就背着父亲的剑和盔甲开始了毫无目的的流浪，仿佛是没有尽头的流浪。10年的流浪…… 可他还是不知道父亲说的远方到底是哪里。他只知道从一个地方飘荡到另一个地方。\n“远方，使命！”\r一阵敲门声打断了萨德列的回忆。\r“进来！”\n旅馆的侍女打开门，端上一盘丰盛的晚餐。“先生，你的晚餐！”说完把盘子放在桌上，然后退了出去。萨德列坐下来，开始慢慢享用他的食物。一段辛苦的旅行中最美丽的事情，莫过与在旅馆舒服的洗个澡，再来一份精美的晚餐！最好还能有美酒！可是在这种小旅馆，也只能用这些下三滥厨师弄的东西来将就了。\n夜深了，窗外的风呼呼的叫着，仿佛是垂死的精灵的呼吸。萨德列躺在床上，望着天花板，心里又开始了对父亲的思念。父亲总是那样富有智慧，高大的身影总是在心头一次又一次的浮现。他慈祥的脸上露出的笑容可以让自己忘掉所以的不幸与悲伤！萨德列起身拿出父亲的剑。锋利的剑身，被磨得光滑的剑柄。萨德列轻轻的抚摩着。“父亲的味道在散发，是你啊。父亲……”\n…….\n高大的树木，数不清的树木。漫天的雪花，鹅毛般的飘落。堆积在树上，林间的空地上！雪地上，一串脚印一直延伸到林子的深出。在脚印的尽头是一个靠在一棵参天大树下的人。凛冽的寒风像刀子般的刮着。革拉特已经逃亡了一星期了。整个星期都在这见鬼的森林里，怎么都走不出去，但这样也好。只有大雪才能让那些追踪的家伙也找不到他。革拉特坐在树下，望着漫天的飞雪。炯烁的眼睛凝视着雪花被风吹着打转，他伸出手接住雪花，看它们慢慢的在手中融化。他的嘴角露出一丝笑容，他站起身来，肩上的雪花簌簌的落下来，抬起头望了望天空，笑了笑，又往林子深处前进。他高大的身影慢慢的消失在树木的影子里。\n第二天早晨，萨德列起床后在旅馆匆匆吃了点早餐就出去了。这个叫密拉达的小镇属于艾拉西亚王国，是一个龙蛇混杂的地方，各式各样的人都有。也有的不是人，精灵呀，矮人呀，吸血鬼……这片大陆的主要种族这里都有。萨德列来到一家酒馆，酒馆是个好地方，无论你想打听什么消息，或者你想了解一下这个地方的情况，做好的办法就是到这里的酒馆里去看看。这个酒馆的老板是个精灵，罕见的一个年老的精灵。绿色的长发随意地搭到在肩上，最引人注目的还是他那尖尖的耳朵了，让一看就知道是精灵。一身打扮象极了市侩的商贩。萨德列很奇怪，怎么精灵也学着做生意了。萨德列来到柜台前，要了杯葡萄酒，然后自行找了张凳子坐下来。他一边缓慢地品味着杯中的葡萄酒，一边装着随意地观察周围的食客。酒馆不大，大概有20几个人在里面。其中有个红胡子的矮人引起了萨德列的注意，还有就是一个一直呆在角落里一个人喝酒的人。看他的打扮象是一个法师或者炼金士。\n突然,一群人恶恨恨地从门口冲进来,最前面的是一个身材高大的家伙,满脸的胡子乱刺刺的毡着,好象是被烧焦了。一群人用目光在酒馆的食客中搜索。最后停在了一个法师打扮的人身上。看上去像带头人的家伙,脸上露出憎恨的表情。他挥了挥手,手下都慢慢的拔出了刀,开始向法师打扮的人走近.酒馆里一些胆小的,怕惹事的都开始从门口跑了出去.那法师打扮的人却依然慢慢的吃着自己的食物,好象根本就不知道那群人的存在。待几个恶棍走到足够近的时候，挥舞着手中各式各样的武器向他扑去。萨德列坐在那里静静的看着这一切的发生.只见那法师打扮的人,手一扬一团火球打在冲在最前面的一个。把他打得直向后飞,撞在后面跟上来的几个身上.魔法的火焰在身上燃烧.几个撞到一起的人身上都着了火,在地上滚来滚去的大叫。但这并没有阻止后面的几个继续向前冲.法师又连续打出几个火球,又是几个人倒下去。可已经有几个到了他跟前。几把明晃晃的刀向他砍去。萨德列已经把自己的剑拿了出来,随时准备出鞘。只见那法师把酒杯里的酒泼出来，酒瞬间在他面前化成了一层冰护盾,几把刀全砍在护盾上。刀的主人也被反弹力震得后退,有一个的刀都脱了手。法师乘机又打出几个火球，又是几个人倒下。萨德列也挺惊讶的，看来这法师还不能小觑，居然还会这种等级的护盾魔法。进来的一群人已经剩下大概不到10个了。萨德列心想不用自己出手，他自己也可以应付了。突然,一只箭插在法师胸口.萨德列心里一惊,朝箭射来的方向望去，只见那个满脸胡子的大汉，手里拿着一把弓箭,冷笑着。大汉继续搭箭，萨德列却飞快拔出剑，象老鹰一般朝大汉冲去。全场人只见一道寒光闪过，大汉呆在那里。萨德列的剑已经在鞘里了。全场的人都楞住了！大汉的弓从中间断开，他眼中充满了恐惧与惊讶。全场的人都清晰的看见一道血痕从大汉眉心裂开.鲜血一下子喷了出来，然后慢慢的倒下。其他恶棍看着眼前的一切，还每反应过来，都还呆站着。萨德列飞快的向法师方向冲过去，随着几道剑光，又是几个恶棍倒下了。剩下的几个丢掉自己手中武器飞一样的跑了。\n萨德列快步向法师走过去。法师手捂住胸口，脸上毫无血色。萨德列正要拿绷带给他止血时发现他已经开始使用治疗魔法了。过了大概一分种的样子。法师的脸已经渐渐恢复血色，显得红润了。萨德列刚想和他说话，那法师却开了个传送门走了。只留下他自己一个人站在乱七八糟的旅馆里。他苦笑了一下，自己费半天劲救了人却给自己找了个麻烦，结果自己却连一句感谢的话都没听到。他回到房间拿起自己的行李准备走了。他知道过不了多久就会有一大群人来找他的麻烦了。\n萨德列走出小镇没多久，却发现自己又不知道该往哪儿走了。他来到一个叉路口，捡起一小截树枝,然后蹲下来把树枝立起来,树枝倒下了。他就朝着树枝倒下的方向前进。他心里知道，路就跟他的未来一样，自己不知道路的尽头是什么地方，就象不知道前方等待他的又是什么命运。但路是要走的，人也是要活下去的。\n\r2 狼与人\r革拉特从树林里出来时已经几乎成了一个雪人。他整理了一下衣服，上面的雪簌簌的掉了下来。他用锐利的眼神观察了一下四周，发现没什么异样的。心里才松了口气，总算把那些家伙摆脱了。\n走出森林是一片旷野，放眼望去只能看见一些稀疏的小树林。这可不是一个逃亡的好地方，得赶快走出这里。革拉特知道过了这里就是一座高山了，在那里就好隐蔽了。他打起精神，继续向前走去。\n革拉特正走在路上，突然一股危险的信号在脑海闪过，他急忙闪到一快稍微大点的岩石后面。他从岩石后面探出头看了看。远方一群恶狼，正向他的方向靠拢。“该死的，这种时候怎么遇到这群畜生。”\n由于在森林的游荡了一个多星期，革拉特已经没多少体力了。\n“怎么办怎么办？”革拉特脑子里闪过无数个念头，都被自己一一否决了。野外的狼群是最难对付的。它们大多都是饿了几天的，现在好不容易找到一个猎物怎么会轻易放弃。说不定它们已经跟踪他好久了，直到现在才开始动手的。\n革拉特躲在岩石后面，发现自己居然能听到自己的心跳声。自己经历了无数次危险从来没有象现在这样感到无助，绝望。\n“难道今天我就会死在这里？死在这些畜生嘴上？老天怎么会这样对我？我还有很多事情要做！”\n一股风吹过来，风中带着野兽特有的味道，也是死亡的气味。革拉特已经能听到狼的呼吸声和细小的脚步声。他闭上眼睛，准备等待死亡的来临。当他闭上眼睛后，脑子一下子清醒很多了。耳朵听到的不光是狼的呼吸，还有风的声音，有雪花落下的声音，有自己还在跳动的心。脑中记起了自己的目标，自己的希望还有自己最想念的人的面庞。革拉特一下子醒了过来。\n他睁开眼睛，拔出自己的刀，跳出岩石。面对着狼群，他缓缓地举刀，指向狼群。他全身的血都沸腾了。杀气从他的刀上蹦射出来。\n狼群中最大的一只全身金色的狼，高高的站在狼群后面的一快岩石上。它向革拉特望了一眼，然后头昂向天空发出一声长啸。啸声在狼群中激起一遍回应，狼群也跟着嚎叫起来。接着慢慢的向革拉特靠拢。\n革拉特把刀横在胸前，然后举向天空，双腿往地上一蹬，嘴中发出一声咆哮。声音在旷野里传播开去。狼群也被怔得停住了前移的脚步。但是只是稍微迟疑了一下，又开始一边发出低沉的声音一边移动。革拉特缓缓闭上眼，一边用身体感受狼群的一举一动一边聚集力量。\n狼群移动到到离革拉特2，3米多远的地方就停住了前进的脚步。都漏出白森森的牙齿，耸立着颈部的毛，不停地发出低沉的呜呜。。。”\n革拉特却满脸镇定的神情，而且还透露出肃穆的感觉。\n狼和人都等待着最后的时刻到来。。。。\n萨德列顺着树枝的方向走着，一路上脑子里总想着那个奇怪的法师的事情，不知道怎么的自己对他特别的好奇。这么多年的经验告诉他在这个世界里好奇心有时会害死一个人。可他还是抑制不住。走着走着，他停了下来，因为直觉告诉他附近就有那个法师的信息。他走进路旁的一的小树林，在林子中间一副令他万分吃惊的景象出现在他面前。\r旷野….\r狼群….\r人……一个坚定的人。\n为首的那头金狼在岩石上转了几圈，然后停了下来。它用异样的眼神盯了盯前面的人。接着，又昂起头发出一声嚎叫。\n战斗的号角已经吹响，战鼓也擂响。革拉特从听到狼王的嚎叫时刻，一直紧闭的双眼猛地撑开。手中的刀也开始抖动，发出“呜呜```````````”的鸣叫。\n站在革拉特最前面的几头狼早就耐不住了，箭一般的向革拉特扑过来。\n刀象天空的明月一样划出一道美丽的白光。\n红色的血从半空中洒落下来。点点斑斑落在革拉特的脸上，身上。\n革拉特吐出嘴里的血，象一头猛虎一样扑进狼群。从狼身上喷射出的血雨点般的打在他身上。热血的腥味刺激着他的神经，革拉特挥舞着手中的刀，自己已经分不清身上的血哪些是自己的哪些是狼的``````````\n在一望无尽的旷野上，一群狼和一个人构建了一幅罕见的奇观。狼的悲嚎，人的咆哮从旷野中央象涟漪一样散开。\n　革拉特已经开始气喘吁吁了，拼杀了一个多小时本来已经不多的体力已经快要透支了。而狼群却显得越来越多。革拉特周围，被杀死的狼都只剩下些骨头。这些狼为了自己把死了的或受伤的狼全吃了。革拉特身上也是伤痕累累。周围的狼不停地向他进攻。一次又一次地。前面的倒下了，后面的把尸体拖出去，又继续扑上来。\n…呼…呼..不行了，我不行了。这些狼怎么都杀不完。我要放弃了。奇迹，奇迹我现在最需要的就是奇迹了。”\n“唰唰！”又是两刀，两头扑上来的狼被砍翻在地。突然背后钻心般的痛，革拉特急忙转过身，唰```一刀挥过去。却砍了个空，他仔细一看，原来是那头狼王。自己周围的其他狼都停止了向他进攻。只在他周围围出一个圈。狼王在他面前来回的走动。两只眼睛死死地盯着他。\n“决斗吗？？”革拉特心想。\n周围的狼群不断地发出嚎叫，仿佛是在为狼王喝彩，加油。\n革拉特明白了，狼王是要建立自己在狼群中的威信，要找他这个垂死的人来决斗。\n革拉特把心一横。双手把刀握在手里，刀尖遥指狼王。他知道自己已经没有多少体力了，要和这只开始一直在旁观战的狡猾的狼王决斗，硬拼下去只有死。心里不断地想对策。\n狼王在革拉特面前2，3米的地方来回的徘徊。两只眼睛却一刻也没离开过革拉特的一举一动。它在寻找空隙一直没有进攻。\n一狼一人，在旷野中相互对峙着。周围狼群的嚎叫此起彼伏。突然革拉特向狼王冲了过去。就要冲到时，突然脚下一滑跌到在地上。狼王象绷紧的弹簧一样飞一般地射向革拉特。嘴准确地咬向革拉特的咽喉。\n这个时候，狼群也全安静了下来，周围突然一下变得异常的安静。\n血，从狼王的嘴边流了出来。。。。\n周围的狼群发出胜利的嚎叫。\n狼王一动也不动的趴在革拉特的身上，它的眼中充满了诧异的神情。\n一狼一人都趴在地上半天一动不动，狼群也停止了嚎叫。一只灰狼从狼群中走出来。慢慢走近革拉特。突然，狼王从地上飞了出来。革拉特用刀艰难地站了起来。狼群一下子沸腾了。那只灰狼走到狼王的身边，嗅了嗅。然后回过身盯着革拉特。它走到革拉特身边，围着他转了几圈。然后向狼群发出一声长啸。本来围着革拉特的狼群开始散开。然后在灰狼的带领下向远方跑去。\n狼群散尽。革拉特一下子倒在地上。看着身边狼王的尸体，回想起刚才的时刻，真是九死一生。他在狼王的牙齿快刺破自己颈部血管的一瞬间，把自己的左手塞进狼王的口中的同时右手把刀捅进狼王的心脏。现在手上几个血孔还在不住的冒血。他自己感到奇怪的是，现在自己居然没感到害怕，却有一种兴奋的感觉。\n革拉特包扎了一下伤口，然后就躺在一快岩石后面睡了。\n\r","title":"20年前的坑"},{"content":"\r\r1 R基础相关\r1.1 数学公式测试\r行内公式\\(x^2+y^2=z^2\\)\n行间公式:\\[f(x)=ax+b\\]\n\r1.2 逻辑运算符号\rR中基础逻辑运算符号有（=;!=;\u0026gt;;\u0026lt;;\u0026gt;=;\u0026lt;=），返回的值是true和false，也可分别作为为数字1和0进行数学运算：\nx \u0026lt;- c(1, 2, 3, 4, 5, 6)\rx \u0026gt; 3\r# [1] FALSE FALSE FALSE TRUE TRUE TRUE\rsum(x \u0026gt; 3)\r# [1] 3\r\r1.3 数学运算\r\r%% 两个向量求余\r\rx \u0026lt;- c(1, 2, 3)\ry \u0026lt;- c(4, 5, 6)\ry%%x\r# [1] 0 1 0\r\r%/% 两个向量相除求商\r\rx \u0026lt;- c(1, 2, 3)\ry \u0026lt;- c(4, 5, 6)\ry%/%x\r# [1] 4 2 2\r\r%*% 两个向量的内积，也称为点乘，可用于矩阵\n\r对于向量\r\r\rx \u0026lt;- c(1, 2, 3)\ry \u0026lt;- c(4, 5, 6)\ry %*% x\r# [,1]\r# [1,] 32\r\r对于矩阵\r\rm \u0026lt;- matrix(c(1:4), ncol = 2)\rm %*% m\r# [,1] [,2]\r# [1,] 7 15\r# [2,] 10 22\r\r1.4 向量操作\r增加向量元素的几种操作\n\r直接使用c()\r\rx \u0026lt;- c(1, 2, 3)\rnewvalues \u0026lt;- 4:9\rc(x, newvalues)\r# [1] 1 2 3 4 5 6 7 8 9\r\r在末尾添加\r\rx \u0026lt;- c(1, 2, 3)\rx[length(x) + 1] \u0026lt;- 99\rx\r# [1] 1 2 3 99\r\r在指定位置增加append(VEC, newvalues, after = N)：\r\rx \u0026lt;- c(1, 2, 3)\rnewvalues \u0026lt;- c(55, 66, 77)\rappend(x, newvalues, 2)\r# [1] 1 2 55 66 77 3\r\r1.5 []和[[]]取值的区别,[[]]等价与$取元素:\rx \u0026lt;- c(1, 2, 3)\rx[1]\r# [1] 1\rx[[1]]\r# [1] 1\rlsx \u0026lt;- list(name = c(\u0026quot;tom\u0026quot;, \u0026quot;jimy\u0026quot;, \u0026quot;tod\u0026quot;), score = c(98, 80, 95))\rlsx[2][1]\r# $score\r# [1] 98 80 95\rlsx[[2]][1]\r# [1] 98\rlsx$score[1]\r# [1] 98\r\r1.6 list的一些操作和理解\rlist作为特殊的变量，它可以存储任意类型的数据，包括其他的list，也就是列表列。R中列表的高端操作有些抽象，不太好理解，需要自己动手多操作。\n\r1.7 print()和cat()的区别\r主要是输出内容的形式，直观来说cat()输入的内容更复核自然阅读的习惯,而print()输入的内容更类似程序的语法结构\n1.7.1 这是print()输出的结果\rprint(c(\u0026quot;hello\u0026quot;, \u0026quot;world\u0026quot;, \u0026quot;!\u0026quot;))\r# [1] \u0026quot;hello\u0026quot; \u0026quot;world\u0026quot; \u0026quot;!\u0026quot;\r\r1.7.2 这是cat()输出的结果\rcat(c(\u0026quot;hello\u0026quot;, \u0026quot;world\u0026quot;, \u0026quot;!\u0026quot;))\r# hello world !\r\r\r1.8 创建序列的区别\r使用:创建的都是整数序列，使用seq()创建的序列是double。\na \u0026lt;- 1:10\rb \u0026lt;- seq(from = 1, to = 10, by = 1)\ridentical(a, b)\r# [1] FALSE\r\r\r2 统计分析相关\r2.1 概率\r\rR中有关概率分布相关函数（2.1）\r\r\r表2.1:  正态分布相关函数用法\r\r\r\r函数\r功能\r\r\r\rdnorm(x, mean = 0, sd = 1, log = FALSE)\r返回值正态分布概率密度函数值，比如dnorm（z）表示：标准正态分布密度函\\(f(x)\\)在x=z处的函数值。\r\rpnorm(q, mean = 0, sd = 1, lower.tail = TRUE, log.p = FALSE)\r返回值是正态分布的分布函数值，比如pnorm(z)等价于\\(P[X ≤ z]\\)\r\rqnorm(p, mean = 0, sd = 1, lower.tail = TRUE, log.p = FALSE)\r返回值是给定概率p后的下分位点.\r\rrnorm(n, mean = 0, sd = 1)\r返回值是n个正态分布随机数构成的向量。\r\r\r\r\r其他概率分布（2.2），其命令用法与正态分布函数类似。\r\r\r表2.2:  R中其他概率分布相关函数\r\r\r\r概率分布\rR 命令名\r参数\r\r\r\rBeta\rbeta\rshape1; shape2\r\rCauchy\rcauchy\rlocation; scale\r\rChi-squared (Chisquare)\rchisq\rdf = degrees of freedom\r\rExponential\rexp\rrate\r\rF\rf\rdf1 and df2 = degrees of freedom\r\rGamma\rgamma\rrate; either rate or scale\r\rLog-normal (Lognormal)\rlnorm\rmeanlog = mean on logarithmic scale; sdlog = standard deviation on logarithmic scale\r\rLogistic\rlogis\rlocation; scale\r\rNormal\rnorm\rmean; sd = standard deviation\r\rStudent’s\rt\r(TDist) t df = degrees of freedom\r\rUniform\runif\rmin = lower limit; max = upper limit\r\rWeibull\rweibull\rshape; scale\r\rWilcoxon\rwilcox\rm = number of observations in first sample; n = number of observations in second sample\r\r\r\r\r2.2 基础统计\r\rsd()和var()分别计算标准差和方差\r\rx \u0026lt;- runif(20)\ry \u0026lt;- 2 * (x + 1)\rsd(x)\r# [1] 0.281\rvar(x)\r# [1] 0.079\r\rcor()和cov()函数可以分别计算两个向量之间的相关性和协方差：\r\rcor(x, y)\r# [1] 1\rcov(x, y)\r# [1] 0.158\r\r2.3 线性回归\r\r线性回归语法lm()\r\r2.3.1 一简单线性模型\rlm(y ~ x1 + x2, date = sim)\r\r对应建模公式为：\\[y=\\alpha+\\beta_1x_1+\\beta_2x_2+\\varepsilon\\]\n\r2.3.2 交互变量性模型\rlm(y ~ x1 * x2, date = sim)\r\r对应建模公式为：\\[y=\\alpha+\\beta_1x_1+\\beta_2x_2++\\beta_3x_1x_2+\\varepsilon\\]\n\r2.3.3 虚拟变量\rlm(y ~ x1 + x1:x2, date = sim)\r\r对应建模公式为：\\[y=\\alpha+\\beta_1x_1+\\beta_2x_1x_2+\\varepsilon\\]\n\r\r\r3 rmarkdown相关\r3.1 表格\r\rkable()\r\rknitr::kable(head(mtcars))\r\r\r\rmpg\rcyl\rdisp\rhp\rdrat\rwt\rqsec\rvs\ram\rgear\rcarb\r\r\r\rMazda RX4\r21.0\r6\r160\r110\r3.90\r2.62\r16.5\r0\r1\r4\r4\r\rMazda RX4 Wag\r21.0\r6\r160\r110\r3.90\r2.88\r17.0\r0\r1\r4\r4\r\rDatsun 710\r22.8\r4\r108\r93\r3.85\r2.32\r18.6\r1\r1\r4\r1\r\rHornet 4 Drive\r21.4\r6\r258\r110\r3.08\r3.21\r19.4\r1\r0\r3\r1\r\rHornet Sportabout\r18.7\r8\r360\r175\r3.15\r3.44\r17.0\r0\r0\r3\r2\r\rValiant\r18.1\r6\r225\r105\r2.76\r3.46\r20.2\r1\r0\r3\r1\r\r\r\r\r除了kable()命令生成表格外,其他的表格生成如果要使其能被交叉引用,需要添加标签label,如:Table:(\\#tab:yourlabel)Caption,然后使用\\@ref(tab:label) 。例如：\r\r样本身高体重见表3.1\nTable:(\\#tab:table001)A simple table\rleft | center | right\r:-----|:------:|------:\rA | 180 | 60\rB | 160 | 50\rc | 170 | 30 \r\r表3.1: A simple table\r\rleft\rcenter\rright\r\r\r\rA\r180\r60\r\rB\r160\r50\r\rc\r170\r30\r\r\r\r\r3.2 图片\r微信截图的图片不能被knit正确读取，会提示找不到文件，需要更改文件类型或者名字？\n\r\r","permalink":"/post/rcheatsheet/","summary":"1 R基础相关\r1.1 数学公式测试\r行内公式\\(x^2+y^2=z^2\\)\n行间公式:\\[f(x)=ax+b\\]\n\r1.2 逻辑运算符号\rR中基础逻辑运算符号有（=;!=;\u0026gt;;\u0026lt;;\u0026gt;=;\u0026lt;=），返回的值是true和false，也可分别作为为数字1和0进行数学运算：\nx \u0026lt;- c(1, 2, 3, 4, 5, 6)\rx \u0026gt; 3\r# [1] FALSE FALSE FALSE TRUE TRUE TRUE\rsum(x \u0026gt; 3)\r# [1] 3\r\r1.3 数学运算\r\r%% 两个向量求余\r\rx \u0026lt;- c(1, 2, 3)\ry \u0026lt;- c(4, 5, 6)\ry%%x\r# [1] 0 1 0\r\r%/% 两个向量相除求商\r\rx \u0026lt;- c(1, 2, 3)\ry \u0026lt;- c(4, 5, 6)\ry%/%x\r# [1] 4 2 2\r\r%*% 两个向量的内积，也称为点乘，可用于矩阵","title":"R随手记（1）"},{"content":"\r\r在繁忙的工作中，断断续续、跌跌撞撞地自学R语言，翻资料，查英文。这一段历程对于一个大叔来说，作实有点辛苦，值得记录。还记得第一次正式接触和使用R还是2015年在上海工作期间。那时候也没有深入的了解和学习，只是基础的学习了平实在工作中可能会使用的基础功能。真正认真开始学习是2019年新冠疫情暴发之初，因为要处理大量数据、分析、绘图、建模，所以认真花费了一段时间来学习。在学习过程中参考了不少大牛的教材，书籍和参考资料等。尤其要感谢一辉。从rmarkdown、bookdown、blogdown、knit，为了那个文学编程，害我还学习了lantex、html、css、pandoc等，可谓是一把辛酸泪啊😭。关于这段历程，后面还是计划开个新章好好记录。这篇文章主要记录下，自己使用blogdown+ hugo + netlify, 踩坑心得 建站历程。\n关于blogdown\rblogdown的具体功能这里不赘述了，希望了解的请参考一辉大神的blogdown，我这里只是记录自己的心得坑：\n\r踩坑记录\r自定义“代码高亮”无效（待解决）\r根据hugopaper的教程设置发现下面代码有效，设置后代码无highlight。\nparams:\rassets:\rdisableHLJS: true\r\r下面这段代码无效，设置后无法显示，上传到netfily同样无效。\nmarkup:\rhighlight:\r# anchorLineNos: true\rcodeFences: true\rguessSyntax: true\rlineNos: true\r# noClasses: false\rstyle: monokai\r\r在highlightjs 网站下载相关的css样式后，将喜欢的样式名称改为an-old-hope.min后放在网站根目录/assets/css可以更改高亮样式，但是建议选择黑暗模式的样式。现在还未找到在网站白天/黑夜模式切换下。css下载地址\n\r更改样式后，白色字体貌似是hugo-paper主题重新定义了的，无法根据样式更改。待解决\n\r\r\rbaseURL\r如果根据教程提示将baseURL改为在netfily上提供的域名，在用自己的域名解析后，次级链接仍然会链接到原netfily域名上\n\r解决方案: 在config.yaml设置如下\r\rbaseURL: /\r\r\r\r","permalink":"/post/build-site/","summary":"\r\r在繁忙的工作中，断断续续、跌跌撞撞地自学R语言，翻资料，查英文。这一段历程对于一个大叔来说，作实有点辛苦，值得记录。还记得第一次正式接触和使用R还是2015年在上海工作期间。那时候也没有深入的了解和学习，只是基础的学习了平实在工作中可能会使用的基础功能。真正认真开始学习是2019年新冠疫情暴发之初，因为要处理大量数据、分析、绘图、建模，所以认真花费了一段时间来学习。在学习过程中参考了不少大牛的教材，书籍和参考资料等。尤其要感谢一辉。从rmarkdown、bookdown、blogdown、knit，为了那个文学编程，害我还学习了lantex、html、css、pandoc等，可谓是一把辛酸泪啊😭。关于这段历程，后面还是计划开个新章好好记录。这篇文章主要记录下，自己使用blogdown+ hugo + netlify, 踩坑心得 建站历程。\n关于blogdown\rblogdown的具体功能这里不赘述了，希望了解的请参考一辉大神的blogdown，我这里只是记录自己的心得坑：\n\r踩坑记录\r自定义“代码高亮”无效（待解决）\r根据hugopaper的教程设置发现下面代码有效，设置后代码无highlight。\nparams:\rassets:\rdisableHLJS: true\r\r下面这段代码无效，设置后无法显示，上传到netfily同样无效。\nmarkup:\rhighlight:\r# anchorLineNos: true\rcodeFences: true\rguessSyntax: true\rlineNos: true\r# noClasses: false\rstyle: monokai\r\r在highlightjs 网站下载相关的css样式后，将喜欢的样式名称改为an-old-hope.min后放在网站根目录/assets/css可以更改高亮样式，但是建议选择黑暗模式的样式。现在还未找到在网站白天/黑夜模式切换下。css下载地址\n\r更改样式后，白色字体貌似是hugo-paper主题重新定义了的，无法根据样式更改。待解决\n\r\r\rbaseURL\r如果根据教程提示将baseURL改为在netfily上提供的域名，在用自己的域名解析后，次级链接仍然会链接到原netfily域名上\n\r解决方案: 在config.yaml设置如下\r\rbaseURL: /\r\r\r\r","title":"建站记录（踩坑心得）"},{"content":"\r\r介绍\r受邀参与重庆市公共卫生执业医师规范化培训工作，主要负责了寄生虫病概况和疟疾防控两个内容的讲解和培训。为此特编写了教材《重庆市公共卫生医师规范化培训-寄生虫病》。这本教材主要包括：\n\r第 1 章主要介绍了寄生虫的生物学知识。\r第 2 章主要介绍了寄生虫病的防治。\r第 3章主要介绍全国主要寄生虫病流行概况。\r第 4章主要介绍重庆市主要寄生虫病流行概况。\r第 5章主要介绍疟疾的流行与防控概况。\r第 6章主要介绍疟疾的基础知识。\r第 7章主要介绍重庆市疟疾防控策略和措施。\r\r点击图片阅读\n\n\r","permalink":"/post/parasitebook/","summary":"\r\r介绍\r受邀参与重庆市公共卫生执业医师规范化培训工作，主要负责了寄生虫病概况和疟疾防控两个内容的讲解和培训。为此特编写了教材《重庆市公共卫生医师规范化培训-寄生虫病》。这本教材主要包括：\n\r第 1 章主要介绍了寄生虫的生物学知识。\r第 2 章主要介绍了寄生虫病的防治。\r第 3章主要介绍全国主要寄生虫病流行概况。\r第 4章主要介绍重庆市主要寄生虫病流行概况。\r第 5章主要介绍疟疾的流行与防控概况。\r第 6章主要介绍疟疾的基础知识。\r第 7章主要介绍重庆市疟疾防控策略和措施。\r\r点击图片阅读\n\n\r","title":"重庆市公共卫生医师规范化培训-寄生虫病"},{"content":"\r\r1 蒙特卡洛法（Monte Carlo method）计算\\(\\pi\\)的值\r用随机函数runif()随机生成N个在1个单位正方形内的散点，根据三角公式筛选出在圆内的点,数据如下:\n## 生成基础数据\rset.seed(2021)\rN \u0026lt;- 5000\rdf01 \u0026lt;- tibble(\rx = runif(N, -0.5, 0.5),\ry = runif(N, -0.5, 0.5)\r) %\u0026gt;% mutate(\rz = if_else(\rx^2 + y ^2 \u0026lt; 0.25, 1, 0),\rp = runif(N,0,2 * pi),\rx2 = cos(p) * 0.5,\ry2 = sin(p) * 0.5\r)\rknitr::kable(head(df01), caption = \u0026quot;随机数据\u0026quot;, col.names = c(\u0026quot;散点X\u0026quot;, \u0026quot;散点Y\u0026quot;, \u0026quot;是否在圆内\u0026quot;,\r\u0026quot;随机生成0-180度\u0026quot;, \u0026quot;圆X\u0026quot;, \u0026quot;圆Y\u0026quot;), digits = 3, align = \u0026quot;c\u0026quot; )\r\r表1.1: 随机数据\r\r散点X\r散点Y\r是否在圆内\r随机生成0-180度\r圆X\r圆Y\r\r\r\r-0.049\r-0.208\r1\r4.580\r-0.066\r-0.496\r\r0.284\r0.212\r1\r4.175\r-0.256\r-0.429\r\r0.210\r-0.395\r1\r1.947\r-0.184\r0.465\r\r-0.118\r0.204\r1\r2.000\r-0.208\r0.455\r\r0.136\r-0.286\r1\r2.294\r-0.331\r0.375\r\r0.201\r0.447\r1\r4.296\r-0.202\r-0.457\r\r\r\r1.1 绘图\r画出散点的分布图。\n## 绘图\rdf01 %\u0026gt;% ggplot() +\rgeom_point(aes(x, y, col= as.factor(z)),\ralpha = 0.5, size = 0.5, show.legend = F) + theme_bw() +\rgeom_point(aes(x2,y2), alpha = 0.5, size = 0.5)\r\r图1.1: 1个单位正方形内的散点\r\r\r1.2 计算\\(\\hat\\pi\\)\r根据面积比可得\\(\\hat\\pi=4\\frac{^{ }S_c}{S_s}\\)。当分布5000个点的时候,\\(\\hat\\pi=\\frac{3925\\times4}{5000}=\\) 3.14。以实验投掷散点数量为X轴，以估的\\(\\hat\\pi\\)为Y轴绘图如下。很明显地可以看出随着点的数量增多\\(\\hat\\pi\\)逐渐向\\(\\pi\\)真实值（蓝线）逼近。\nestmatepi \u0026lt;- tibble(y = cumsum(df01$z)/(1:N)*4,\rx = 1:N)\restmatepi %\u0026gt;% ggplot(aes(x,y))+\rgeom_line()+\rgeom_hline(yintercept = pi, col = \u0026quot;blue\u0026quot;) +\rtheme_classic() +\rxlab(\u0026quot;N\u0026quot;) +\rylab(expression(hat(pi)))\r\r图1.2: 估计圆周率与实验次数关系\r\r\r\r","permalink":"/post/2022-01-07-temp/","summary":"1 蒙特卡洛法（Monte Carlo method）计算\\(\\pi\\)的值\r用随机函数runif()随机生成N个在1个单位正方形内的散点，根据三角公式筛选出在圆内的点,数据如下:\n## 生成基础数据\rset.seed(2021)\rN \u0026lt;- 5000\rdf01 \u0026lt;- tibble(\rx = runif(N, -0.5, 0.5),\ry = runif(N, -0.5, 0.5)\r) %\u0026gt;% mutate(\rz = if_else(\rx^2 + y ^2 \u0026lt; 0.25, 1, 0),\rp = runif(N,0,2 * pi),\rx2 = cos(p) * 0.5,\ry2 = sin(p) * 0.5\r)\rknitr::kable(head(df01), caption = \u0026quot;随机数据\u0026quot;, col.names = c(\u0026quot;散点X\u0026quot;, \u0026quot;散点Y\u0026quot;, \u0026quot;是否在圆内\u0026quot;,\r\u0026quot;随机生成0-180度\u0026quot;, \u0026quot;圆X\u0026quot;, \u0026quot;圆Y\u0026quot;), digits = 3, align = \u0026quot;c\u0026quot; )\r\r表1.","title":"Monte Carlo method"},{"content":"\r\r2022年元旦\r\rThe first morning of year 2022\r第一缕阳光透过薄纱铺洒床头。\nThe sun shines sprinkled upper on my bed through the tulle.\n微冷的空气中弥漫来阵阵花香。\nThe scent of flowers permeated in the cold air.\n我张开怀抱,\nI opened my arms,\n迎接新年的来到。\nHugged the new year.\n你好！\nHello !\n世界！\nworld!\n2022！\r\r","permalink":"/post/2022-01-01-hello-world-2022/","summary":"\r\r2022年元旦\r\rThe first morning of year 2022\r第一缕阳光透过薄纱铺洒床头。\nThe sun shines sprinkled upper on my bed through the tulle.\n微冷的空气中弥漫来阵阵花香。\nThe scent of flowers permeated in the cold air.\n我张开怀抱,\nI opened my arms,\n迎接新年的来到。\nHugged the new year.\n你好！\nHello !\n世界！\nworld!\n2022！\r\r","title":"Hello world 2022"}]