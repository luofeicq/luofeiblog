---
title: R随手记（1）
author: Luo Fei
date: '2022-01-12'
slug: Rcheatsheet
categories:
  - Tec
tags:
  - R
output:
    blogdown::html_page:
      number_sections: true
math: true
showToc: true
TocOpen: false
toc-title: "目录"
draft: true
hidemeta: false
comments: false
description: "记录使用R过程一些记不住的技巧。"
canonicalURL: ""
disableShare: false
hideSummary: false
searchHidden: false
ShowReadingTime: false
ShowBreadCrumbs: true
ShowPostNavLinks: true
cover:
    image: "" # image path/url
    alt: "<alt text>" # alt text
    caption: "<text>" # display caption under cover
    relative: false # when using page bundles set this to true
    hidden: true # only hide on current single page  
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<div id="r基础相关" class="section level1" number="1">
<h1><span class="header-section-number">1</span> R基础相关</h1>
<div id="逻辑运算符号" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> 逻辑运算符号</h2>
<p>R中基础逻辑运算符号有（<code>=</code>;<code>!=</code>;<code>&gt;</code>;<code>&lt;</code>;<code>&gt;=</code>;<code>&lt;=</code>），返回的值是<code>true</code>和<code>false</code>，也可分别作为为数字<code>1</code>和<code>0</code>进行数学运算：</p>
<pre class="r"><code>x &lt;- c(1, 2, 3, 4, 5, 6)

x &gt; 3</code></pre>
<pre><code># [1] FALSE FALSE FALSE  TRUE  TRUE  TRUE</code></pre>
<pre class="r"><code>sum(x &gt; 3)</code></pre>
<pre><code># [1] 3</code></pre>
</div>
<div id="数学运算" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> 数学运算</h2>
<ul>
<li>%% 两个向量求余</li>
</ul>
<pre class="r"><code>x &lt;- c(1, 2, 3)
y &lt;- c(4, 5, 6)
y%%x</code></pre>
<pre><code># [1] 0 1 0</code></pre>
<ul>
<li>%/% 两个向量相除求商</li>
</ul>
<pre class="r"><code>x &lt;- c(1, 2, 3)
y &lt;- c(4, 5, 6)
y%/%x</code></pre>
<pre><code># [1] 4 2 2</code></pre>
<ul>
<li><p>%*% 两个向量的内积，也称为点乘，可用于矩阵</p>
<ul>
<li>对于向量</li>
</ul></li>
</ul>
<pre class="r"><code>x &lt;- c(1, 2, 3)
y &lt;- c(4, 5, 6)
y %*% x</code></pre>
<pre><code>#      [,1]
# [1,]   32</code></pre>
<ul>
<li>对于矩阵</li>
</ul>
<pre class="r"><code>m &lt;- matrix(c(1:4), ncol = 2)
m %*% m</code></pre>
<pre><code>#      [,1] [,2]
# [1,]    7   15
# [2,]   10   22</code></pre>
</div>
<div id="向量操作" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> 向量操作</h2>
<p>增加向量的几种操作</p>
<ul>
<li>直接使用<code>c()</code></li>
</ul>
<pre class="r"><code>x &lt;- c(1, 2, 3)
newvalues &lt;- 4:9
c(x, newvalues)</code></pre>
<pre><code># [1] 1 2 3 4 5 6 7 8 9</code></pre>
<ul>
<li>在末尾添加</li>
</ul>
<pre class="r"><code>x &lt;- c(1, 2, 3)
x[length(x) + 1] &lt;- 99
x</code></pre>
<pre><code># [1]  1  2  3 99</code></pre>
<ul>
<li>在指定位置增加<code>append(VEC, newvalues, after = N)</code>：</li>
</ul>
<pre class="r"><code>x &lt;- c(1, 2, 3)
newvalues &lt;- c(55, 66, 77)
append(x, newvalues, 2)</code></pre>
<pre><code># [1]  1  2 55 66 77  3</code></pre>
</div>
<div id="和取值的区别等价与取元素" class="section level2" number="1.4">
<h2><span class="header-section-number">1.4</span> <code>[]</code>和<code>[[]]</code>取值的区别,<code>[[]]</code>等价与<code>$</code>取元素:</h2>
<pre class="r"><code>x &lt;- c(1, 2, 3)
x[1]</code></pre>
<pre><code># [1] 1</code></pre>
<pre class="r"><code>x[[1]]</code></pre>
<pre><code># [1] 1</code></pre>
<pre class="r"><code>lsx &lt;- list(name = c(&quot;tom&quot;, &quot;jimy&quot;, &quot;tod&quot;), score = c(98, 80, 95))
lsx[2][1]</code></pre>
<pre><code># $score
# [1] 98 80 95</code></pre>
<pre class="r"><code>lsx[[2]][1]</code></pre>
<pre><code># [1] 98</code></pre>
<pre class="r"><code>lsx$score[1]</code></pre>
<pre><code># [1] 98</code></pre>
</div>
<div id="list的一些操作和理解" class="section level2" number="1.5">
<h2><span class="header-section-number">1.5</span> <code>list</code>的一些操作和理解</h2>
<p><code>list</code>作为特殊的变量，它可以存储任意类型的数据，包括其他的<code>list</code>，也就是列表列。R中列表的高端操作有些抽象，不太好理解，需要自己动手多操作。</p>
</div>
<div id="print和cat的区别" class="section level2" number="1.6">
<h2><span class="header-section-number">1.6</span> <code>print()</code>和<code>cat()</code>的区别</h2>
<p>主要是输出内容的形式，直观来说<code>cat()</code>输入的内容更复核自然阅读的习惯,而<code>print()</code>输入的内容更类似程序的语法结构</p>
<div id="这是print输出的结果" class="section level3" number="1.6.1">
<h3><span class="header-section-number">1.6.1</span> 这是<code>print()</code>输出的结果</h3>
<pre class="r"><code>print(c(&quot;hello&quot;, &quot;world&quot;, &quot;!&quot;))</code></pre>
<pre><code># [1] &quot;hello&quot; &quot;world&quot; &quot;!&quot;</code></pre>
</div>
<div id="这是cat输出的结果" class="section level3" number="1.6.2">
<h3><span class="header-section-number">1.6.2</span> 这是<code>cat()</code>输出的结果</h3>
<pre class="r"><code>cat(c(&quot;hello&quot;, &quot;world&quot;, &quot;!&quot;))</code></pre>
<pre><code># hello world !</code></pre>
</div>
</div>
<div id="创建序列的区别" class="section level2" number="1.7">
<h2><span class="header-section-number">1.7</span> 创建序列的区别</h2>
<p>使用<code>:</code>创建的都是整数序列，使用<code>seq()</code>创建的序列是<code>double</code>。</p>
<pre class="r"><code>a &lt;- 1:10
b &lt;- seq(from = 1, to = 10, by = 1)
identical(a, b)</code></pre>
<pre><code># [1] FALSE</code></pre>
</div>
</div>
<div id="数据清理相关" class="section level1" number="2">
<h1><span class="header-section-number">2</span> 数据清理相关</h1>
<div id="tidyvers" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> <code>tidyvers()</code></h2>
</div>
</div>
<div id="ggplot相关" class="section level1" number="3">
<h1><span class="header-section-number">3</span> ggplot相关</h1>
</div>
<div id="统计分析相关" class="section level1" number="4">
<h1><span class="header-section-number">4</span> 统计分析相关</h1>
<div id="基础统计" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> 基础统计</h2>
<ul>
<li><code>sd()</code>和<code>var()</code>分别计算标准差和方差</li>
</ul>
<pre class="r"><code>x &lt;- runif(20)
y &lt;- 2 * (x + 1)
sd(x)</code></pre>
<pre><code># [1] 0.299</code></pre>
<pre class="r"><code>var(x)</code></pre>
<pre><code># [1] 0.0896</code></pre>
<ul>
<li><code>cor()</code>和<code>cov()</code>函数可以分别计算两个向量之间的相关性和协方差：</li>
</ul>
<pre class="r"><code>cor(x, y)</code></pre>
<pre><code># [1] 1</code></pre>
<pre class="r"><code>cov(x, y)</code></pre>
<pre><code># [1] 0.179</code></pre>
</div>
</div>
<div id="rmarkdown相关" class="section level1" number="5">
<h1><span class="header-section-number">5</span> rmarkdown相关</h1>
<div id="表格" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> 表格</h2>
<p>除了<code>kable()</code>命令生成表格外,其他的表格生成如果要使其能被交叉引用,需要添加标签<code>label</code>,如:<code>Table:(\#tab:yourlabel)Caption</code>,然后使用<code>\@ref(tab:label)</code> 。例如：</p>
<p>样本身高体重见表<a href="#tab:table001">5.1</a></p>
<pre><code>Table:(\#tab:table001)A simple table

left  | center | right
:-----|:------:|------:
A     |   180  | 60
B     |   160  | 50
c     |   170  | 30        
</code></pre>
<table>
<caption><span id="tab:table001">表5.1: </span>A simple table</caption>
<thead>
<tr class="header">
<th align="left">left</th>
<th align="center">center</th>
<th align="right">right</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">A</td>
<td align="center">180</td>
<td align="right">60</td>
</tr>
<tr class="even">
<td align="left">B</td>
<td align="center">160</td>
<td align="right">50</td>
</tr>
<tr class="odd">
<td align="left">c</td>
<td align="center">170</td>
<td align="right">30</td>
</tr>
</tbody>
</table>
</div>
<div id="图片" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> 图片</h2>
<p>微信截图的图片不能被<code>knit</code>正确读取，会提示找不到文件，需要更改文件类型或者名字？</p>
</div>
</div>
